<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>下拉框模糊查询</title>
    <link rel="stylesheet" href="../../asset/css/common.css">
    <link rel="stylesheet" href="../../asset/libs/prism.js-1.17.1/prism_light.css"><!--辅助: 代码高亮样式, 正式页面不需要引用-->
</head>
<body>
<div class="container" id="app" v-cloak>
    <div class="block_container">
        <div class="title">
            示例
        </div>
        <div class="content">
            <table class="table_layout_edit">
                <tr>
                    <td>类型</td>
                    <td>
                        <fuzzy-query-select
                                :fuzzy-list="fuzzyList"
                                :query-key.sync="queryKey"
                                default-text="请选择模板所属分类"
                                @fuzzy-change="fuzzyChange"
                        ></fuzzy-query-select>
                        <p>queryKey: {{queryKey}}, queryValue: {{queryValue}}</p>
                    </td>
                    <td>类型</td>
                    <td>
                        <fuzzy-query-select
                            :fuzzy-list="fuzzyList1"
                            :query-key.sync="queryKey1"
                        ></fuzzy-query-select>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="block_container">
        <div class="title">说明</div>
        <div class="content">
            <table class="table_list table_striped table_hover">
                <thead>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                    <th>类型</th>
                    <th>必填</th>
                    <th>不传时默认值</th>
                    <th>自动检测父页面值变化</th>
                    <th>支持.sync</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>fuzzy-list</td>
                    <td>所有下拉数据</td>
                    <td>数组, 数据格式 [{'key':'1', 'value': '家电一'}]</td>
                    <td>是</td>
                    <td>[]</td>
                    <td>是</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>query-key</td>
                    <td>选择值key</td>
                    <td>字符串</td>
                    <td>是</td>
                    <td>''</td>
                    <td>是</td>
                    <td>是</td>
                </tr>
                <tr>
                    <td>default-text</td>
                    <td>默认值</td>
                    <td>字符串</td>
                    <td>否</td>
                    <td>请选择</td>
                    <td>是</td>
                    <td>否</td>
                </tr>
                <tr>
                    <td>disabled</td>
                    <td>是否禁用下拉</td>
                    <td>布尔</td>
                    <td>否</td>
                    <td>false</td>
                    <td>是</td>
                    <td>否</td>
                </tr>
                </tbody>
            </table>
            <div class="block_overflow">
                <table class="table_list table_striped table_hover">
                    <tr>
                        <th>事件</th>
                        <th>说明</th>
                        <th>参数</th>
                    </tr>
                    <tr>
                        <td class="nowrap">@fuzzy-change</td>
                        <td>选择值发生变化时回调方法</td>
                        <td>key：组件值，value：组件显示文本</td>
                    </tr>
                </table>
            </div>
            <div class="block_overflow">
                <table class="table_list table_striped table_hover">
                    <tr>
                        <th>方法</th>
                        <th>说明</th>
                        <th>参数</th>
                        <th>返回值</th>
                    </tr>
                    <tr>
                        <td class="nowrap">getValue()</td>
                        <td>获取组件显示文本</td>
                        <td>无</td>
                        <td>由弹出页面设置</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
<pre><code class="language-js">代码示例：
    &lt;fuzzy-query-select :fuzzy-list="fuzzyList" :query-key.sync="queryKey" @fuzzy-change="fuzzyChange">&lt;/fuzzy-query-select>
</code>
</pre>

</div>
</body>
<script type="text/javascript" src="../../asset/libs/require.js-2.3.6/require.min.js"></script>
<script type="text/javascript" src="../../asset/js/require-config.js"></script>
<script type="text/javascript" src="../../asset/libs/prism.js-1.17.1/prism.js"></script><!--辅助: 代码高亮, 正式页面不需要引用-->
<script type="text/javascript">
    require(['jquery','vue','global'], function ($, Vue) {
        var app = new Vue({
            el: '#app',
            data: {
                fuzzyList:[ // 所有下拉数据
                    {'key':'0', 'value': '采购类合同'},
                    {'key':'1', 'value': '租赁类合同'},
                    {'key':'2', 'value': '工程类合同'},
                    {'key':'3', 'value': '营销/宣传类合同'},
                    {'key':'4', 'value': '客户类合同'},
                    {'key':'5', 'value': '知识产权类合同'},
                    {'key':'6', 'value': '综合服务类合同'},
                    {'key':'7', 'value': '技术类合同'},
                    {'key':'8', 'value': '其他类合同'}
                ],
                queryKey: '9',
                queryValue: '',
                fuzzyList1: [],
                queryKey1: ''
            },
            created: function () {

            },
            mounted: function () {

            },
            methods: {
                fuzzyChange: function(key,value) {
                    console.log(key, value)
                    this.queryValue = value
                }
            }
        })
    });
</script>
